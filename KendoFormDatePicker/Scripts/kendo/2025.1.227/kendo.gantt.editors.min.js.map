{"version":3,"sources":["raw-js/kendo.gantt.editors.js"],"names":["global","factory","exports","module","require","define","amd","globalThis","self","kendo","_globals","GanttEditors","this","$","undefined$1","window","ui","Observable","Widget","encode","htmlEncode","extend","GRID_HEIGHT","ganttStyles","form","editForm","formContainer","resourcesFormContainer","message","buttonsContainer","button","buttonDefaults","editField","editLabel","resourcesField","PopupEditor","init","element","options","fn","call","destroy","close","unbind","that","editable","container","data","popup","is","trigger","bind","editTask","task","plannedEditors","_createPopupEditor","fields","customFields","model","template","map","value","key","field","general","_fieldsGeneral","resources","dependencies","_fieldsDependencies","Object","keys","GanttTask","length","other","_fieldsOther","showDialog","buttonsEl","popupStyles","wrapper","dialogEl","format","uid","appendTo","messages","append","text","kendoButton","name","themeColor","icon","click","e","preventDefault","callback","cancel","kendoWindow","modal","autoFocus","resizable","draggable","title","visible","deactivate","getKendoWindow","center","open","find","_buildButtons","save","_onSave","_onCancel","fillMode","_onDelete","_buildEditTemplate","settings","Template","templateSettings","html","unescape","renderForm","attr","formEl","applyStylesFromKendoAttributes","editableWidget","width","editor","editorTitle","actions","userTriggered","_initForm","kendoEditable","clearContainer","validateOnBlur","target","cycleForm","nameDdlDs","dataSource","filter","i","id","typeDs","fullData","excluded","ddlData","modelFields","startText","actualStart","start","endText","actualEnd","end","colSpan","push","plannedStart","validation","editorOptions","componentType","plannedEnd","taskAllChildren","n","some","percentComplete","hint","percentCompleteHint","parent","optionLabel","parentOptionLabel","enable","dataValueField","dataTextField","valuePrimitive","toString","item","label","_readonlyEditor","_gridOptions","type","keyType","taskId","dependencyData","view","d","schema","from","required","defaultValue","encodeTitles","columns","selectable","values","dependencyType","toolbar","addNew","remove","grid","closest","getKendoGrid","ds","selected","select","items","each","row","dataItem","sortable","navigatable","height","edit","setOptions","resourceField","get","tabStripDs","_tabStripSource","kendoTabStrip","dataContentField","tabStrip","sender","contentElement","index","validatable","validate","validator","_initGeneral","resourceEditor","kendoGrid","_initOther","kendoForm","layout","cols","gutter","rows","formData","buttonsTemplate","Date","found","prevData","newData","updateInfo","predeGrid","sucGrid","args","createdData","updatedData","successorId","concat","predecessorId","toJSON","dirty","updateDependencies","destroyed","created","updated","Array","isArray","val","updateModel","content","predecessors","successors","ResourceEditor","_resourceGrid","ddlDs","Grid","resourcesHeader","unitsHeader","valueFormat","filterable","selectedKeyNames","unitsValidation","ddl","currentId","filters","r","f","operator","logic","gantt","jQuery","kendo$1","__meta__","category","description","depends","hidden","default","defineProperty"],"mappings":"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","file":"kendo.gantt.editors.min.js","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('kendo.data.js'), require('kendo.popup.js'), require('kendo.window.js'), require('kendo.gantt.data.js'), require('kendo.grid.js'), require('kendo.datetimepicker.js'), require('kendo.numerictextbox.js'), require('kendo.textbox.js'), require('kendo.form.js'), require('kendo.tabstrip.js')) :\n    typeof define === 'function' && define.amd ? define(['exports', 'kendo.data', 'kendo.popup', 'kendo.window', 'kendo.gantt.data', 'kendo.grid', 'kendo.datetimepicker', 'kendo.numerictextbox', 'kendo.textbox', 'kendo.form', 'kendo.tabstrip'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.kendo = global.kendo || {}, global.kendo._globals = global.kendo._globals || {}, global.kendo._globals.GanttEditors = {})));\n})(this, (function (exports) {\n    const __meta__ = {\n        id: \"gantt.editors\",\n        name: \"GanttEditors\",\n        category: \"web\",\n        description: \"The Gantt component editors.\",\n        depends: [ \"data\", \"popup\", \"window\", \"gantt.data\", \"grid\", \"datetimepicker\", \"numerictextbox\", \"textbox\", \"form\", \"tabstrip\"],\n        hidden: true\n    };\n\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            ui = kendo.ui,\n            Observable = kendo.Observable,\n            Widget = ui.Widget,\n            encode = kendo.htmlEncode,\n            extend = $.extend,\n            PERCENTAGE_FORMAT = \"p0\",\n            GRID_HEIGHT = \"23em\",\n            TAB_HEIGHT = \"28em\",\n            STRING = \"string\";\n\n        var ganttStyles = {\n            buttonDelete: \"k-gantt-delete\",\n            buttonCancel: \"k-gantt-cancel\",\n            buttonSave: \"k-gantt-update\",\n            focused: \"k-focus\",\n            gridContent: \"k-grid-content\",\n            hovered: \"k-hover\",\n            item: \"k-item k-menu-item\",\n            popupWrapper: \"k-popup k-menu-popup\",\n            popupList: \"k-menu-group k-menu-group-md k-reset\",\n            popup: {\n                form: \"k-popup-edit-form\",\n                editForm: \"k-gantt-edit-form\",\n                formContainer: \"k-edit-form-container\",\n                resourcesFormContainer: \"k-resources-form-container\",\n                message: \"k-popup-message\",\n                buttonsContainer: \"k-edit-buttons k-actions\",\n                button: \"k-button\",\n                buttonDefaults: \"k-button-md k-rounded-md k-button-solid k-button-solid-base\",\n                editField: \"k-edit-field\",\n                editLabel: \"k-edit-label\",\n                resourcesField: \"k-gantt-resources\"\n            },\n            primary: \"k-button-solid-primary\",\n            toolbar: {\n                appendButton: \"k-gantt-create\"\n            }\n        };\n\n        var PopupEditor = Observable.extend({\n            init: function(element, options) {\n                Observable.fn.init.call(this);\n\n                this.element = element;\n                this.options = extend(true, {}, this.options, options);\n            },\n\n            destroy: function() {\n                this.close();\n                this.unbind();\n            },\n\n            close: function() {\n                var that = this;\n\n                var destroy = function() {\n                    if (that.editable) {\n                        that.container.data(\"kendoWindow\").destroy();\n                        that.editable = null;\n                        that.container = null;\n                    }\n\n                    if (that.popup) {\n                        that.popup.destroy();\n                        that.popup = null;\n                    }\n                };\n\n                if (that.editable && that.container.is(\":visible\")) {\n                    that.trigger(\"close\", { window: that.container });\n                    that.container.data(\"kendoWindow\").bind(\"deactivate\", destroy).close();\n                } else {\n                    destroy();\n                }\n            },\n\n            editTask: function(task, plannedEditors) {\n                this.task = task;\n                this.plannedEditors = plannedEditors;\n                this.editable = this._createPopupEditor();\n            },\n\n            fields: function() {\n                var options = this.options,\n                    model = this.task,\n                    fields = {},\n                    customFields;\n\n                if (options.editable.template) {\n                    return $.map(model.fields, function(value, key) {\n                        return { field: key };\n                    });\n                } else {\n                    fields.general = this._fieldsGeneral();\n\n                    if (options.resources) {\n                        fields.resources = [ { field: \"resources\" } ];\n                    }\n\n                    if (options.dependencies) {\n                        fields.dependencies = this._fieldsDependencies(model);\n                    }\n\n                    customFields = extend(true, {}, model.fields);\n                    Object.keys(kendo.data.GanttTask.fields).map(key => {\n                        delete customFields[key];\n                    });\n\n                    if (Object.keys(customFields).length > 0) {\n                        fields.other = this._fieldsOther(customFields);\n                    }\n                }\n\n                return fields;\n            },\n\n\n            showDialog: function(options) {\n                var popupStyles = ganttStyles.popup,\n                    wrapper = this.element,\n                    task = options.model,\n                    that = this,\n                    dialogEl = $(kendo.format('<div class=\"' + popupStyles.formContainer + '\" data-uid=\"' + task.uid + '\">')).appendTo(wrapper),\n                    messages = this.options.messages,\n                    buttonsEl;\n\n                dialogEl.append($(\"<p>\" + options.text + \"</p>\"));\n                buttonsEl = $('<div class=\"' + popupStyles.buttonsContainer + '\">');\n                dialogEl.append(buttonsEl);\n\n                buttonsEl.append($(\"<button class='\" + ganttStyles.buttonDelete + \"'>\" + encode(messages.destroy) + \"</button>\").kendoButton({\n                    name: \"delete\",\n                    themeColor: \"primary\",\n                    icon: \"trash\",\n                    click: (e) => {\n                        e.preventDefault();\n                        popup.close();\n                        options.callback();\n                    }\n                }));\n\n                buttonsEl.append($(\"<button class='\" + ganttStyles.buttonCancel + \"'>\" + encode(messages.cancel) + \"</button>\").kendoButton({\n                    name: \"cancel\",\n                    icon: \"cancel\",\n                    click: (e) => {\n                        e.preventDefault();\n                        popup.close();\n                        options.callback(true);\n                    }\n                }));\n\n                if (this.popup) {\n                    this.popup.destroy();\n                }\n\n                var popup = this.popup = dialogEl.kendoWindow({\n                    modal: true,\n                    autoFocus: false,\n                    resizable: false,\n                    draggable: false,\n                    title: options.title,\n                    visible: false,\n                    deactivate: function() {\n                        this.destroy();\n                        that.trigger(\"close\", { window: dialogEl });\n                    }\n                })\n                .getKendoWindow();\n\n                popup.center().open();\n\n                popup.element.find(\".k-button-solid-primary\").trigger(\"focus\");\n            },\n\n            _buildButtons: function(dialogEl) {\n                var messages = this.options.messages,\n                    buttonsEl = $('<div class=\"' + ganttStyles.popup.buttonsContainer + '\">');\n\n                buttonsEl.appendTo(dialogEl);\n\n                buttonsEl.append($(\"<button class='\" + ganttStyles.buttonSave + \"'>\" + encode(messages.save) + \"</button>\").kendoButton({\n                    name: \"update\",\n                    themeColor: \"primary\",\n                    icon: \"save\",\n                    click: this._onSave.bind(this)\n                }));\n                buttonsEl.append($(\"<button class='\" + ganttStyles.buttonCancel + \"'>\" + encode(messages.cancel) + \"</button>\").kendoButton({\n                    name: \"cancel\",\n                    icon: \"cancel\",\n                    click: this._onCancel.bind(this)\n                }));\n                buttonsEl.append($(\"<span class='k-spacer'>\"));\n\n                if (this.options.editable.destroy !== false) {\n                    buttonsEl.append($(\"<button class='\" + ganttStyles.buttonDelete + \"'>\" + encode(messages.destroy) + \"</button>\").kendoButton({\n                        name: \"delete\",\n                        themeColor: \"primary\",\n                        icon: \"trash\",\n                        fillMode: \"flat\",\n                        click: this._onDelete.bind(this)\n                    }));\n                }\n            },\n\n            _buildEditTemplate: function(model, dialogEl) {\n                var template = this.options.editable.template;\n                var settings = extend({}, kendo.Template, this.options.templateSettings);\n                var html = \"\";\n\n                if (template) {\n                    if (typeof template === STRING) {\n                        template = kendo.unescape(template);\n                    }\n\n                    html += (kendo.template(template, settings))(model);\n                } else {\n                    this.renderForm = true;\n                    html += `<div role=\"form\" class=\"k-gantt-edit-tabstrip\" ${kendo.attr(\"style-min-height\")}=\"${TAB_HEIGHT}\"></div>`;\n                }\n\n                var formEl = $(html);\n                kendo.applyStylesFromKendoAttributes(formEl, [\"min-height\"]);\n                formEl.appendTo(dialogEl);\n            },\n\n            _createPopupEditor: function() {\n                var that = this;\n                var options = {};\n                var messages = this.options.messages;\n                var popupStyles = ganttStyles.popup;\n                var editableWidget;\n                var task = this.task;\n                var container = $(kendo.format('<div {0}=\"{1}\" class=\"{2} {3}\">', kendo.attr(\"uid\"), task.uid, popupStyles.form, popupStyles.editForm));\n\n                container.appendTo(this.element);\n\n                this._buildEditTemplate(task, container);\n                this._buildButtons(container);\n\n                this.container = container.kendoWindow(extend({\n                    width: 554,\n                    modal: true,\n                    resizable: false,\n                    draggable: true,\n                    title: messages.editor.editorTitle,\n                    visible: false,\n                    actions: [ \"Minimize\", \"Maximize\", \"Close\" ],\n                    close: function(e) {\n                        if (e.userTriggered) {\n                            if (that.trigger(\"cancel\", { container: container, model: task })) {\n                                e.preventDefault();\n                            }\n                        }\n                    }\n                }, options));\n\n                if (this.renderForm) {\n                    editableWidget = this._initForm();\n                } else {\n                    editableWidget = container.kendoEditable({\n                        model: task,\n                        clearContainer: false,\n                        validateOnBlur: true,\n                        target: that.options.target\n                    })\n                    .data(\"kendoEditable\");\n                }\n\n                kendo.cycleForm(container);\n\n                if (!this.trigger(\"edit\", { container: container, model: task })) {\n                    container.data(\"kendoWindow\").center().open();\n                } else {\n                    that.trigger(\"cancel\", { container: container, model: task });\n                }\n\n                return editableWidget;\n            },\n\n            _fieldsDependencies: function(model) {\n                var options = this.options,\n                    ds = options.target.dataSource,\n                    nameDdlDs = ds.data().filter(i => i.id !== model.id).map(i => ({ text: i.title, value: i.id })),\n                    typeDs = [\n                        { value: 0, text: \"Finish-Finish\" },\n                        { value: 1, text: \"Finish-Start\" },\n                        { value: 2, text: \"Start-Finish\" },\n                        { value: 3, text: \"Start-Start\" }\n                    ];\n\n                return {\n                    nameDdlDs, typeDs\n                };\n            },\n\n            _fieldsGeneral: function() {\n                var that = this,\n                    options = this.options,\n                    dataSource = options.target.dataSource,\n                    messages = options.messages.editor,\n                    task = this.task,\n                    modelFields = task.fields,\n                    startText = this.plannedEditors ? messages.actualStart : messages.start,\n                    endText = this.plannedEditors ? messages.actualEnd : messages.end,\n                    fullData, excluded, ddlData;\n\n                var general = [\n                    { field: \"title\", title: messages.title, colSpan: 4 }\n                ];\n\n                if (this.plannedEditors) {\n                    general.push({\n                        field: \"plannedStart\",\n                        title: messages.plannedStart,\n                        colSpan: 2,\n                        editor: \"DateTimePicker\",\n                        validation: modelFields.plannedStart.validation,\n                        editorOptions: {\n                            componentType: \"modern\"\n                        }\n                    });\n\n                    general.push({\n                        field: \"plannedEnd\",\n                        title: messages.plannedEnd,\n                        colSpan: 2,\n                        editor: \"DateTimePicker\",\n                        validation: modelFields.plannedEnd.validation,\n                        editorOptions: {\n                            componentType: \"modern\"\n                        }\n                    });\n                }\n\n                fullData = dataSource.data();\n                excluded = dataSource.taskAllChildren(task);\n                excluded.push(task);\n                ddlData = fullData.filter(n => !excluded.some(e => e.id === n.id));\n\n                general.push({\n                    field: \"start\",\n                    title: startText,\n                    colSpan: 2,\n                    editor: \"DateTimePicker\",\n                    validation: modelFields.start.validation,\n                    editorOptions: {\n                        componentType: \"modern\"\n                    }\n                });\n                general.push({\n                    field: \"end\",\n                    title: endText,\n                    colSpan: 2,\n                    editor: \"DateTimePicker\",\n                    validation: modelFields.start.validation,\n                    editorOptions: {\n                        componentType: \"modern\"\n                    }\n                });\n                general.push({\n                    field: \"percentComplete\",\n                    title: messages.percentComplete,\n                    format: PERCENTAGE_FORMAT,\n                    colSpan: 1,\n                    hint: encode(messages.percentCompleteHint)\n                });\n                general.push({\n                    field: \"parentId\",\n                    title: messages.parent,\n                    colSpan: 4,\n                    editor: \"DropDownList\",\n                    editorOptions: {\n                        optionLabel: messages.parentOptionLabel,\n                        filter: \"contains\",\n                        dataSource: ddlData,\n                        enable: ddlData.length > 0,\n                        dataValueField: \"id\",\n                        dataTextField: \"title\",\n                        valuePrimitive: true,\n                        template: ({ title, start, end }) => `<span>${title} ${kendo.toString(start, \"d\")}-${kendo.toString(end, \"d\")}</span>`\n                    }\n                });\n\n                general = general.map(function(item) {\n                    item = extend(true, {\n                        label: item.title\n                    }, item);\n\n                    if (!task.editable || task.editable(item.field)) {\n                        return item;\n                    } else {\n                        return extend(true, item, {\n                            editor: that._readonlyEditor.bind(that)\n                        });\n                    }\n                });\n\n                return general;\n            },\n\n            _fieldsOther: function(other) {\n                var that = this,\n                    task = this.task;\n\n                other = Object.keys(other).map(function(key) {\n                    var item = other[key];\n\n                    item = extend(true, {\n                        field: key,\n                        label: item.title\n                    }, item);\n\n                    if (!task.editable || task.editable(item.field)) {\n                        return item;\n                    } else {\n                        return extend(true, item, {\n                            editor: that._readonlyEditor.bind(that)\n                        });\n                    }\n                });\n\n                return other;\n            },\n\n            _gridOptions: function(dependencies, type, keyType, taskId) {\n                var messages = this.options.messages,\n                    data;\n\n                if (!this.dependencyData) {\n                    this.dependencyData = {};\n                }\n\n                data = this.dependencyData[type] = this.options.target.dependencies.view().filter(d => d[keyType] === taskId);\n\n                return {\n                    dataSource: {\n                        data: data,\n                        schema: {\n                            model: {\n                                fields: {\n                                    id: { from: \"id\" },\n                                    [type]: { from: type, validation: { required: { message: messages.editor.name + \" is required\" } } },\n                                    type: { from: \"type\", validation: { required: true }, defaultValue: 1 }\n                                }\n                            }\n                        }\n                    },\n                    encodeTitles: true,\n                    columns: [{\n                        selectable: true,\n                        width: 50\n                    },{\n                        field: type,\n                        title: messages.editor.name,\n                        values: dependencies.nameDdlDs\n                    }, {\n                        field: \"type\",\n                        title: messages.editor.dependencyType,\n                        values: dependencies.typeDs,\n                        width: \"9em\"\n                    }],\n                    toolbar: [{\n                        name: \"create\",\n                        text: messages.editor.addNew\n                    },{\n                        name: \"remove\",\n                        icon: \"minus\",\n                        text: messages.editor.remove,\n                        click: (e) => {\n                            var grid = e.target.closest(\".k-grid\").getKendoGrid(),\n                                ds = grid.dataSource,\n                                selected = grid.select(),\n                                items = [];\n\n                            if (selected && selected.length > 0) {\n                                selected.each((i, row) => {\n                                    items.push(grid.dataItem($(row)));\n                                });\n\n                                items.map(i => {\n                                    ds.remove(i);\n                                });\n                            }\n                        }\n                    }],\n                    editable: true,\n                    sortable: true,\n                    navigatable: true,\n                    height: GRID_HEIGHT,\n                    edit: function() {\n                        var select = $(\"[name=predecessorId], [name=successorId]\"),\n                            ddl;\n\n                        if (select.length) {\n                            ddl = select.data(\"kendoDropDownList\");\n                            ddl.setOptions({\n                                filter: \"contains\"\n                            });\n                        }\n                    },\n                };\n            },\n\n            _initForm: function() {\n                var that = this,\n                    task = that.task,\n                    container = that.container,\n                    resources = that.options.resources,\n                    resourceField = task.get(resources.field),\n                    fields = that.fields(),\n                    tabStripDs = that._tabStripSource(fields, resourceField);\n\n                container.find(\".k-gantt-edit-tabstrip\").kendoTabStrip({\n                    dataTextField: \"name\",\n                    dataContentField: \"content\",\n                    dataSource: tabStripDs,\n                    value: that.options.messages.editor.general,\n                    select: (e) => {\n                        var tabStrip = e.sender,\n                            contentElement = $(tabStrip.contentElement(tabStrip.select().index())),\n                            grid = contentElement.find(\".k-grid\").data(\"kendoGrid\"),\n                            form = contentElement.find(\".k-form\").data(\"kendoForm\");\n\n                        if (grid && grid.editable && grid.editable.validatable && !grid.editable.validatable.validate()) {\n                            e.preventDefault();\n                        } else if (form && !form.validator.validate()) {\n                            e.preventDefault();\n                        }\n                    }\n                });\n\n                that._initGeneral(fields.general, task);\n\n                if (resourceField) {\n                    that.resourceEditor = resources.editor(container.find(\".k-gantt-resources\"), task);\n                }\n\n                if (fields.dependencies) {\n                    container.find(\".k-gantt-predecessors\").kendoGrid(that._gridOptions(fields.dependencies, \"predecessorId\", \"successorId\", task.id));\n                    container.find(\".k-gantt-successors\").kendoGrid(that._gridOptions(fields.dependencies, \"successorId\", \"predecessorId\", task.id));\n                }\n\n                if (fields.other) {\n                    that._initOther(fields.other, task);\n                }\n\n                return that.form.editable;\n            },\n\n            _initGeneral: function(items, task) {\n                this.form = this.container.find(\".k-gantt-form-default\").kendoForm({\n                    layout: \"grid\",\n                    grid: {\n                        cols: 4,\n                        gutter: {\n                            rows: 0,\n                            cols: 8\n                        }\n                    },\n                    items: items,\n                    formData: task,\n                    buttonsTemplate: () => \"\",\n                    validatable: {\n                        validateOnBlur: true\n                    }\n                }).data(\"kendoForm\");\n            },\n\n            _initOther: function(items, task) {\n                this.container.find(\".k-gantt-form-other\").kendoForm({\n                    items: items,\n                    formData: task,\n                    buttonsTemplate: () => \"\",\n                    validatable: {\n                        validateOnBlur: true\n                    }\n                });\n            },\n\n            _readonlyEditor: function(container, options) {\n                var field = options.field,\n                    value = '',\n                    ds = this.options.target.dataSource;\n\n                if (options.model.get(field) !== null) {\n                    value = options.model.get(field);\n\n                    if (value instanceof Date) {\n                        value = kendo.toString(value, \"g\");\n                    } else if (field === \"percentComplete\") {\n                        value = kendo.toString(value, options.format);\n                    } else if (field === \"parentId\") {\n                        value = ds.get(value).title;\n                    }\n                }\n\n                container.append(\"<span>\" + value + \"</span>\");\n            },\n\n            _onCancel: function() {\n                this.trigger(\"cancel\", { container: this.container, model: this.task });\n            },\n\n            _onDelete: function() {\n                this.trigger(\"remove\", { container: this.container, model: this.task });\n            },\n\n            _onSave: function() {\n                var task = this.task,\n                    fields = [],\n                    updateInfo = {},\n                    field,\n                    container = this.container,\n                    predeGrid = container.find(\".k-gantt-predecessors\").getKendoGrid(),\n                    sucGrid = container.find(\".k-gantt-successors\").getKendoGrid(),\n                    found, prevData, newData, args = {}, createdData = [], updatedData = [];\n\n                if (predeGrid) {\n                    prevData = this.dependencyData.successorId.concat(this.dependencyData.predecessorId);\n                    newData = predeGrid.dataSource.view().toJSON().concat(sucGrid.dataSource.view().toJSON());\n\n                    if (predeGrid && predeGrid.editable && predeGrid.editable.validatable && !predeGrid.editable.validatable.validate() ||\n                        sucGrid && sucGrid.editable && sucGrid.editable.validatable && !sucGrid.editable.validatable.validate()) {\n                            return;\n                        }\n\n                    newData.map(n => {\n                        found = prevData.find(i => i.id === n.id);\n\n                        if (found) {\n                            if (found.dirty) {\n                                updatedData.push(n);\n                            }\n\n                            newData = newData.filter(i => i.id !== n.id);\n                            prevData = prevData.filter(i => i.id !== n.id);\n                        }\n                    });\n\n                    newData.map(i => {\n                        if (i.successorId) {\n                            if (!i.predecessorId) {\n                                i.predecessorId = task.get(\"id\");\n                            }\n\n                            createdData.push(i);\n                        } else if (i.predecessorId) {\n                            if (!i.successorId) {\n                                i.successorId = task.get(\"id\");\n                            }\n\n                            createdData.push(i);\n                        }\n                    });\n\n                    if (createdData.length > 0 || prevData.length > 0 || updatedData.length > 0) {\n                        args.updateDependencies = {\n                            destroyed: prevData,\n                            created: createdData,\n                            updated: updatedData\n                        };\n                    }\n                }\n\n                if (Array.isArray(this.fields())) {\n                    fields = this.fields();\n                } else {\n                    Object.values(this.fields()).map((val) => {\n                        if (Array.isArray(val)) {\n                            fields.push(...val);\n                        }\n                    });\n                }\n\n                if (this.resourceEditor) {\n                    if (!this.resourceEditor.updateModel()) {\n                        return;\n                    }\n                }\n\n                for (var i = 0, length = fields.length; i < length; i++) {\n                    field = fields[i].field;\n                    updateInfo[field] = task.get(field);\n                }\n\n                this.trigger(\"save\", $.extend({}, args, {\n                    container: container,\n                    model: task,\n                    updateInfo: updateInfo\n                }));\n            },\n\n            _tabStripSource: function(fields, resourceField) {\n                var messages = this.options.messages.editor,\n                    dependencies = fields.dependencies,\n                    tabStripDs = [{\n                        name: messages.general,\n                        content: \"<div class='k-gantt-form-default'></div>\"\n                    }];\n\n                if (resourceField) {\n                    tabStripDs.push({\n                        name: messages.resources,\n                        content: \"<div class='k-gantt-resources'></div>\"\n                    });\n                }\n\n                if (dependencies) {\n                    tabStripDs.push({\n                        name: messages.predecessors,\n                        content: \"<div class='k-gantt-predecessors'></div>\"\n                    });\n                    tabStripDs.push({\n                        name: messages.successors,\n                        content: \"<div class='k-gantt-successors'></div>\"\n                    });\n                }\n\n                if (fields.other) {\n                    tabStripDs.push({\n                        name: messages.other,\n                        content: \"<div class='k-gantt-form-other'></div>\"\n                    });\n                }\n\n                return tabStripDs;\n            }\n        });\n        var ResourceEditor = Widget.extend({\n            init: function(element, options) {\n                Widget.fn.init.call(this, element, options);\n\n                this.wrapper = this.element;\n                this.model = this.options.model;\n                this.resourcesField = this.options.resourcesField;\n\n                this._resourceGrid();\n            },\n\n            destroy: function() {\n                this.grid = null;\n\n                Widget.fn.destroy.call(this);\n\n                this.element = this.wrapper = null;\n            },\n\n            updateModel: function() {\n                var resources = [];\n                var item, value;\n                var grid = this.grid;\n                var data = grid.dataSource.data();\n                var editable = grid.editable;\n\n                if (editable && editable.validatable && !editable.validatable.validate()) {\n                    return false;\n                }\n\n                for (var i = 0, length = data.length; i < length; i++) {\n                    item = data[i];\n                    value = item.get(\"value\");\n\n                    if (item.id !== undefined$1 && value !== null && value > 0) {\n                        resources.push(data[i]);\n                    }\n                }\n\n                this.model[this.resourcesField] = resources;\n\n                return true;\n            },\n\n            _resourceGrid: function() {\n                var that = this;\n                var messages = this.options.messages;\n                var options = that.options;\n                var element = this.wrapper;\n                var ddlDs = options.resources;\n\n                that.grid = new kendo.ui.Grid(element, {\n                    encodeTitles: true,\n                    columns: [{\n                        selectable: true,\n                        width: 50\n                    },{\n                        field: \"id\",\n                        title: messages.resourcesHeader,\n                        values: ddlDs\n                    },{\n                        field: \"value\",\n                        title: messages.unitsHeader,\n                        template: function(dataItem) {\n                            var valueFormat = dataItem.format || PERCENTAGE_FORMAT;\n                            var value = dataItem.value !== null ? dataItem.value : \"\";\n\n                            return valueFormat ? kendo.toString(value, valueFormat) : value;\n                        },\n                        width: 120\n                    }],\n                    height: GRID_HEIGHT,\n                    sortable: true,\n                    editable: true,\n                    filterable: true,\n                    navigatable: true,\n                    toolbar: [{\n                        name: \"create\",\n                        text: messages.addNew\n                    },{\n                        name: \"remove\",\n                        icon: \"minus\",\n                        text: messages.remove,\n                        click: () => {\n                            var grid = that.grid,\n                                ds = grid.dataSource,\n                                selected = grid.selectedKeyNames();\n\n                            if (selected && selected.length > 0) {\n                                selected.map(i => {\n                                    ds.remove(ds.get(i));\n                                });\n                            }\n                        }\n                    }],\n                    dataSource: {\n                        data: this.model.resources,\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: { from: \"id\", defaultValue: undefined$1, validation: { required: { message: messages.resourcesHeader + \" is required\" } } },\n                                    value: { from: \"value\", type: \"number\", defaultValue: 1, validation: this.options.unitsValidation },\n                                    format: { from: \"format\", type: \"string\" }\n                                }\n                            }\n                        }\n                    },\n                    edit: function(e) {\n                        var select = e.container.find(\"select\"),\n                            ddl = select.data(\"kendoDropDownList\"),\n                            currentId = e.model.id,\n                            filterOut = options.model.resources.map(r => r.id).filter(r => r !== currentId),\n                            filters = filterOut.map(f => ({\n                                field: \"value\",\n                                operator: \"neq\",\n                                value: f\n                            }));\n\n                        if (ddl) {\n                            ddl.dataSource.filter({\n                                logic: \"and\",\n                                filters: filters\n                            });\n\n                            ddl.setOptions({\n                                filter: \"contains\"\n                            });\n                        }\n                    }\n                });\n            }\n        });\n\n        kendo.gantt = {\n            PopupEditor: PopupEditor,\n            ResourceEditor: ResourceEditor\n        };\n    })(window.kendo.jQuery);\n    var kendo$1 = kendo;\n\n    exports.__meta__ = __meta__;\n    exports.default = kendo$1;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n"]}